(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{DdEe:function(t,i,o){"use strict";o.r(i),o.d(i,"playerFactory",(function(){return E})),o.d(i,"Tab1PageModule",(function(){return N}));var e=o("TEn/"),c=o("ofXK"),n=o("3Pt+"),s=o("tyNb"),r=o("mrSG"),a=o("5rMj"),d=o("wd/R"),l=o("PqYM"),h=o("fXoL"),u=o("riPR"),p=o("1CpQ"),f=o("U3FU"),m=o("on2l"),g=o("RBCV"),_=o("GPUG"),b=o("DPnb");function v(t,i){if(1&t&&(h.dc(0,"span"),h.Lc(1),h.cc()),2&t){const t=h.pc(2);h.Mb(1),h.Mc(t.displayTime.days)}}function M(t,i){1&t&&(h.dc(0,"span"),h.Lc(1,"0"),h.cc())}function y(t,i){if(1&t&&(h.dc(0,"div"),h.Kc(1,v,2,1,"span",1),h.Kc(2,M,2,0,"span",1),h.dc(3,"div",2),h.Lc(4,"D\xedas"),h.cc(),h.cc()),2&t){const t=h.pc();h.Mb(1),h.uc("ngIf",t.displayTime.days>0),h.Mb(1),h.uc("ngIf",t.displayTime.days<=0)}}function O(t,i){if(1&t&&(h.dc(0,"span"),h.Lc(1),h.cc()),2&t){const t=h.pc();h.Mb(1),h.Mc(t.displayTime.hours)}}function C(t,i){1&t&&(h.dc(0,"span"),h.Lc(1,"0"),h.cc())}function P(t,i){if(1&t&&(h.dc(0,"span",5),h.Lc(1),h.cc()),2&t){const t=h.pc();h.Mb(1),h.Mc(t.displayTime.minutes)}}function x(t,i){1&t&&(h.dc(0,"span"),h.Lc(1,"0"),h.cc())}function w(t,i){if(1&t&&(h.dc(0,"span",6),h.Lc(1),h.cc()),2&t){const t=h.pc();h.Mb(1),h.Mc(t.displayTime.seconds)}}function k(t,i){1&t&&(h.dc(0,"span"),h.Lc(1,"0"),h.cc())}let L=(()=>{class t{constructor(t,i){this._changeDetector=t,this.evetnsApp=i,this._timing=1e3,this.format="{dd} days {hh} hours {mm} minutes {ss} seconds"}set time(t){this._time=t,this._startTimer()}set timing(t){this._timing=t,this._startTimer()}set item(t){this._item=t,console.log(this._item)}get delta(){let t=new Date;return Math.max(0,Math.floor((this._time-t.getTime())/1e3))}get displayTime(){let t,i,o,e,c=this.delta;return t=Math.floor(c/86400),c-=86400*t,i=Math.floor(c/3600)%24,c-=3600*i,o=Math.floor(c/60)%60,c-=60*o,e=c%60,{days:t,hours:i,minutes:o,seconds:e}}ngOnDestroy(){this._stopTimer()}_startTimer(){this.delta<=0||(this._stopTimer(),this._interval=setInterval(()=>{this._changeDetector.detectChanges(),this.delta<=0&&(this._stopTimer(),this.evetnsApp.eventoTiempo(this._item),console.log(this._item))},this._timing))}_stopTimer(){clearInterval(this._interval),this._interval=void 0}}return t.\u0275fac=function(i){return new(i||t)(h.Xb(h.i),h.Xb(u.a))},t.\u0275cmp=h.Rb({type:t,selectors:[["app-countdown"]],inputs:{time:"time",timing:"timing",item:"item",format:"format"},decls:17,vars:7,consts:[["id","clockdiv"],[4,"ngIf"],[1,"smalltext"],["class","minutes",4,"ngIf"],["class","seconds",4,"ngIf"],[1,"minutes"],[1,"seconds"]],template:function(t,i){1&t&&(h.dc(0,"div",0),h.Kc(1,y,5,2,"div",1),h.dc(2,"div"),h.Kc(3,O,2,1,"span",1),h.Kc(4,C,2,0,"span",1),h.dc(5,"div",2),h.Lc(6,"Horas"),h.cc(),h.cc(),h.dc(7,"div"),h.Kc(8,P,2,1,"span",3),h.Kc(9,x,2,0,"span",1),h.dc(10,"div",2),h.Lc(11,"Minutos"),h.cc(),h.cc(),h.dc(12,"div"),h.Kc(13,w,2,1,"span",4),h.Kc(14,k,2,0,"span",1),h.dc(15,"div",2),h.Lc(16,"Segundos"),h.cc(),h.cc(),h.cc()),2&t&&(h.Mb(1),h.uc("ngIf",i.displayTime.days),h.Mb(2),h.uc("ngIf",i.displayTime.hours>0),h.Mb(1),h.uc("ngIf",i.displayTime.hours<=0),h.Mb(4),h.uc("ngIf",i.displayTime.minutes>0),h.Mb(1),h.uc("ngIf",i.displayTime.minutes<=0),h.Mb(4),h.uc("ngIf",i.displayTime.seconds>0),h.Mb(1),h.uc("ngIf",i.displayTime.seconds<=0))},directives:[c.l],styles:["#clockdiv[_ngcontent-%COMP%]{font-family:sans-serif;color:#4e4e4e;display:inline-block;font-weight:500;text-align:center;font-size:20px}#clockdiv[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:.2rem;margin-right:.2rem}#clockdiv[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #clockdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:2px;border-radius:3px;display:inline-block}#clockdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#4e4e4e}.smalltext[_ngcontent-%COMP%]{padding-top:5px;font-size:10px}"],changeDetection:0}),t})();const D=["slideshome"];function T(t,i){if(1&t){const t=h.ec();h.dc(0,"ion-slide"),h.dc(1,"ion-card",11),h.dc(2,"img",12),h.lc("click",(function(){h.Dc(t);const o=i.$implicit;return h.pc(2).viewPhoto("http://vps-1663776-x.dattaweb.com/"+o.img)})),h.cc(),h.dc(3,"ion-card-subtitle",2),h.dc(4,"b"),h.Lc(5),h.cc(),h.cc(),h.dc(6,"ion-card-content"),h.Lc(7),h.cc(),h.dc(8,"ion-grid",13),h.dc(9,"ion-row",14),h.dc(10,"ion-col",15),h.dc(11,"ion-label",1),h.Lc(12," Descuento actual: "),h.cc(),h.Yb(13,"br"),h.dc(14,"div",16),h.dc(15,"div"),h.dc(16,"span"),h.dc(17,"ion-text",17),h.Lc(18,"15%"),h.cc(),h.cc(),h.dc(19,"div",18),h.Lc(20,"Anterior"),h.cc(),h.cc(),h.dc(21,"div"),h.dc(22,"span"),h.dc(23,"ion-text",17),h.Lc(24,"20%"),h.cc(),h.cc(),h.dc(25,"div",18),h.Lc(26,"Anterior"),h.cc(),h.cc(),h.dc(27,"div"),h.dc(28,"span",19),h.dc(29,"ion-text",19),h.dc(30,"b"),h.Lc(31),h.cc(),h.cc(),h.cc(),h.dc(32,"div",20),h.Lc(33,"Ahora"),h.cc(),h.cc(),h.cc(),h.cc(),h.dc(34,"ion-col",21),h.dc(35,"ion-title",22),h.dc(36,"ion-title",23),h.dc(37,"b"),h.Lc(38,"Unidades"),h.cc(),h.cc(),h.dc(39,"ion-title",24),h.dc(40,"b"),h.Lc(41,"Disponibles"),h.cc(),h.cc(),h.dc(42,"ion-title",25),h.dc(43,"b"),h.Lc(44),h.cc(),h.cc(),h.cc(),h.cc(),h.Yb(45,"ion-item-divider",26),h.dc(46,"ion-col",15),h.dc(47,"ion-label",1),h.Lc(48," Pr\xf3ximo descuento en: "),h.cc(),h.Yb(49,"br"),h.bc(50),h.dc(51,"div",16),h.Yb(52,"app-countdown",27),h.cc(),h.ac(),h.cc(),h.dc(53,"ion-col",21),h.dc(54,"ion-title",22),h.dc(55,"ion-title",23),h.dc(56,"b"),h.Lc(57,"Pr\xf3ximo"),h.cc(),h.cc(),h.dc(58,"ion-title",24),h.dc(59,"b"),h.Lc(60,"Descuento"),h.cc(),h.cc(),h.dc(61,"ion-title",28),h.dc(62,"b"),h.Lc(63,"30%"),h.cc(),h.cc(),h.cc(),h.cc(),h.cc(),h.cc(),h.dc(64,"ion-toolbar",29),h.dc(65,"ion-buttons",30),h.dc(66,"ion-title",31),h.Lc(67),h.qc(68,"number"),h.cc(),h.dc(69,"ion-title",32),h.dc(70,"b"),h.Lc(71),h.qc(72,"number"),h.cc(),h.cc(),h.cc(),h.dc(73,"ion-buttons",33),h.dc(74,"ion-button",34),h.dc(75,"ion-text",35),h.Lc(76,"Comprar"),h.cc(),h.cc(),h.cc(),h.cc(),h.cc(),h.cc()}if(2&t){const t=i.$implicit,o=h.pc(2);h.Mb(2),h.uc("src","http://vps-1663776-x.dattaweb.com/"+t.img,h.Ec),h.Mb(3),h.Mc(t.nombre),h.Mb(2),h.Nc(" ",t.descripcion," "),h.Mb(24),h.Nc("",t.descuento,"%"),h.Mb(13),h.Mc(t.stock),h.Mb(8),h.vc("timing",o.now),h.vc("time",t.fecha_fin_etapa),h.vc("item",t._id),h.Mb(15),h.Nc("$",h.rc(68,10,t.precio_final,"1.2-2")," "),h.Mb(4),h.Nc("$",h.rc(72,13,t.precio_final-t.precio_final*(t.descuento/100),"1.2-2"),"")}}function S(t,i){if(1&t&&(h.bc(0),h.Kc(1,T,77,16,"ion-slide",10),h.ac()),2&t){const t=h.pc();h.Mb(1),h.uc("ngForOf",t.offers)}}function I(t,i){1&t&&(h.bc(0),h.dc(1,"ion-row",36),h.Yb(2,"ion-spinner",37),h.cc(),h.ac())}function j(t,i){1&t&&(h.bc(0),h.dc(1,"div",38),h.dc(2,"ion-label",39),h.dc(3,"b"),h.Lc(4,"No hay Publicaciones disponibles"),h.cc(),h.cc(),h.cc(),h.ac())}const z=[{path:"",component:(()=>{class t{constructor(t,i,o,e,c,n,s,r){this.refreshEvent=t,this.modalController=i,this.autocloseOverlaysService=o,this.photoViewer=e,this.platform=c,this.usuarioService=n,this.userupdateService=s,this.productoService=r,this.status="loading",this.status_2="loading",this.status_3="loading",this.slideManyOpts={speed:800,slidesPerView:1,spaceBetween:0,direction:"vertical"},this.timeLeft=60,this.defaultFrom="2020-10-03T01:04:43.000",this.defaultTo="2020-11-30T08:56:25.275+00:00",this._second=1e3,this._minute=60*this._second,this._hour=60*this._minute,this._day=24*this._hour,this.source=Object(l.a)(0,1e3),this.options={path:"assets/icon/clock-animation.json"},this.refreshEvent.articulo.subscribe(t=>{if(t){const i=this.offers.findIndex(i=>i._id===t._id);this.offers.splice(i,1)}})}ngOnInit(){this.eventBtn(),this.logScrolling(this.event),this.deltas=[],this.recargarms(this.event)}showDate(){let t=this.end-this.now;return this.day=Math.floor(t/this._day),this.hours=Math.floor(t%this._day/this._hour),this.minutes=Math.floor(t%this._hour/this._minute),this.seconds=Math.floor(t%this._minute/this._second),this.seconds}showDateHou(t){console.log(t);let i=t-this.now;this.day=Math.floor(i/this._day);const o=Math.floor(i%this._day/this._hour);return this.minutes=Math.floor(i%this._hour/this._minute),this.seconds=Math.floor(i%this._minute/this._second),o}showDateMin(t){let i=t-this.now;this.day=Math.floor(i/this._day),this.hours=Math.floor(i%this._day/this._hour);const o=Math.floor(i%this._hour/this._minute);return this.seconds=Math.floor(i%this._minute/this._second),o}showDateSeg(t){let i=t-this.now;return this.day=Math.floor(i/this._day),this.hours=Math.floor(i%this._day/this._hour),this.minutes=Math.floor(i%this._hour/this._minute),Math.floor(i%this._minute/this._second)}slideChanged(){this.slide.getActiveIndex().then(t=>{this.slide_position=t,console.log(t)})}parseDates(t){let i=Date.parse((new Date).toDateString())-Date.parse((new Date).toDateString()),o=Date.parse(t)-Date.parse((new Date).toDateString());this.interval=setInterval(()=>{if(o-=1e3,isNaN(i)||isNaN(o)||i>o)return console.group("Invalid date range - no calculations to perform."),console.log("From:",i),console.log("To:",o),void console.groupEnd();var t=(o-i)/1e3;this.horas=[this.format(this.calculateHoursMinutesSeconds(t))],this.minutos=[this.formatM(this.calculateMinutesSeconds(t))],this.segundos=[this.formatS(this.calculateSeconds(t))]},1e3),this.deltas=this.deltas.filter((t,i)=>!i||!t.startsWith("0")),this.horas=this.deltas.filter((t,i)=>!i||!t.startsWith("0")),this.minutos=this.deltas.filter((t,i)=>!i||!t.startsWith("0")),this.segundos=this.deltas.filter((t,i)=>!i||!t.startsWith("0"))}convertFormat(t){return d(t).format("YYYYMMDD")}recargarms(t){this.siguientesms(t,!0),this.offers=[]}updateUser(){return Object(r.a)(this,void 0,void 0,(function*(){this.usuarioService.validaToken().then(t=>Object(r.a)(this,void 0,void 0,(function*(){t&&(yield this.userupdateService.updateUser())})))}))}siguientesms(t,i=!1){this.status="loading",this.status_2="loading",this.status_3="loading",this.productoService.getProductsAll(i).subscribe(i=>{if(console.log(i),i.productos.length>=1){for(let t of i.productos)this.clock=this.source.subscribe(i=>{let o=t.fecha_fin_etapa-this.now;this.day=Math.floor(o/this._day),this.hours=Math.floor(o%this._day/this._hour),this.minutes=Math.floor(o%this._hour/this._minute),this.seconds=Math.floor(o%this._minute/this._second)}),this.now=new Date,this.end=t.fecha_fin_etapa,this.showDate(),this.offers.push({_id:t._id,descuento:t.descuento,precio_final:t.producto.precio_final,estado:!0,fecha:t.fecha,fecha_fin_etapa:t.fecha_fin_etapa,fecha_ini_etapa:t.fecha_ini_etapa,stock:t.stock+t.producto.stock,img:t.producto.img,nombre:t.producto.nombre,descripcion:t.producto.descripcion,days:this.day,hours:this.hours,minutes:this.minutes,seconds:this.seconds});console.log(this.offers),this.status="ok",t&&t.target.complete(),0===i.productos.length&&(this.status="cero"),this.slideChanged()}else this.status="cero",t&&t.target.complete(),this.slideChanged()})}calculateHoursMinutesSeconds(t){return[Math.floor(t/60/60)]}calculateMinutesSeconds(t){var i=Math.floor(t/3600);return[Math.floor((t-3600*i)/60)]}calculateSeconds(t){Math.floor(t/60);var i=Math.floor(t/3600);return[t-3600*i-60*Math.floor((t-3600*i)/60)]}format(t){var i=[];for(var o of t.slice().reverse())i.unshift(o.toLocaleString());return i.join(",")}formatM(t){var i=[];for(var o of t.slice().reverse())i.unshift(o.toLocaleString());return i.join("")}formatS(t){var i=[];for(var o of t.slice().reverse())i.unshift(o.toLocaleString());return i.join(",")}logScrolling(t){return Object(r.a)(this,void 0,void 0,(function*(){yield this.content.getScrollElement().then(t=>{0===t.scrollTop&&(this.btn_top="top"),t.scrollTop>0&&(this.btn_top="scroll")})}))}eventBtn(){this.refreshEvent.homebtn.subscribe(t=>Object(r.a)(this,void 0,void 0,(function*(){yield this.autocloseOverlaysService.trigger().then(t=>Object(r.a)(this,void 0,void 0,(function*(){t||(yield navigator.app.exitApp())})))})))}back(){return Object(r.a)(this,void 0,void 0,(function*(){yield this.autocloseOverlaysService.trigger().then(t=>Object(r.a)(this,void 0,void 0,(function*(){t||(yield navigator.app.exitApp())})))}))}viewPhoto(t){return Object(r.a)(this,void 0,void 0,(function*(){if(!this.platform.is("capacitor")){const i=yield this.modalController.create({component:a.a,componentProps:{img:t}});return i.onWillDismiss().then(t=>{}),yield i.present().then(t=>{})}this.platform.ready().then(()=>{this.photoViewer.show(t)})}))}}return t.\u0275fac=function(i){return new(i||t)(h.Xb(u.a),h.Xb(e.Y),h.Xb(p.a),h.Xb(f.a),h.Xb(e.bb),h.Xb(m.a),h.Xb(g.a),h.Xb(_.a))},t.\u0275cmp=h.Rb({type:t,selectors:[["app-inicio"]],viewQuery:function(t,i){var o;1&t&&(h.Gc(e.p,!0),h.Gc(D,!0)),2&t&&(h.zc(o=h.mc())&&(i.content=o.first),h.zc(o=h.mc())&&(i.slide=o.first))},decls:16,vars:7,consts:[[3,"translucent"],["color","primary"],["size","small"],["width","25px","height","25px","containerClass","lottie",3,"options"],["slot","end"],["overflow-scroll","true",3,"scrollEvents","ionScroll"],["slot","fixed","pullFactor","0.5","pullMin","80","pullMax","300",3,"ionRefresh"],["pager","true",1,"slides_home","pointer",3,"options","ionSlideDidChange"],["slideshome",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[1,"slide_image_home"],[1,"obj_fit",3,"src","click"],[1,"info_footer"],[1,"info"],["size","9"],["id","clockdiv"],[1,"porciento_tachado"],[1,"smalltext"],["color","success"],[1,"smalltext","chip_actual"],["size","3",1,"ion-no-padding"],[1,"ion-no-padding","btn_stock"],[1,"stock_home","ion-no-padding"],[1,"stock_home_foot","ion-no-padding"],["color","success",1,"ion-no-padding"],[1,"divider"],[3,"timing","time","item"],["color","warning",1,"ion-no-padding"],[1,"toolbar_footer"],["slot","start",1,"pricing_text_footer","ion-no-padding"],["color","medium","size","small",1,"precio_tachado"],["color","primary",1,"ion-no-padding"],["slot","end",1,"ion-padding"],["color","primary","fill","solid"],[1,"comprar_text"],[1,"center"],["name","crescent","color","primary"],[1,"ion-text-left","ion-padding"],["color","medium",1,"label_add","center"]],template:function(t,i){1&t&&(h.dc(0,"ion-header",0),h.dc(1,"ion-toolbar",1),h.dc(2,"ion-title",2),h.Yb(3,"ng-lottie",3),h.dc(4,"b"),h.Lc(5," Tu Tiempo Vale! "),h.cc(),h.cc(),h.dc(6,"ion-buttons",4),h.Yb(7,"ion-menu-button"),h.cc(),h.cc(),h.cc(),h.dc(8,"ion-content",5),h.lc("ionScroll",(function(t){return i.logScrolling(t)})),h.dc(9,"ion-refresher",6),h.lc("ionRefresh",(function(t){return i.recargarms(t)})),h.Yb(10,"ion-refresher-content"),h.cc(),h.dc(11,"ion-slides",7,8),h.lc("ionSlideDidChange",(function(){return i.slideChanged()})),h.Kc(13,S,2,1,"ng-container",9),h.cc(),h.Kc(14,I,3,0,"ng-container",9),h.Kc(15,j,5,0,"ng-container",9),h.cc()),2&t&&(h.uc("translucent",!0),h.Mb(3),h.uc("options",i.options),h.Mb(5),h.uc("scrollEvents",!0),h.Mb(3),h.uc("options",i.slideManyOpts),h.Mb(2),h.uc("ngIf",i.offers.length>=1),h.Mb(1),h.uc("ngIf","loading"===i.status),h.Mb(1),h.uc("ngIf","cero"===i.status))},directives:[e.s,e.T,e.R,b.a,e.i,e.B,e.p,e.C,e.D,e.L,c.l,c.k,e.K,e.j,e.l,e.k,e.r,e.G,e.o,e.y,e.O,e.x,L,e.h,e.M],pipes:[c.e],styles:[".slides_home[_ngcontent-%COMP%], ion-card[_ngcontent-%COMP%]{height:100%;width:100%}.slide_image_home[_ngcontent-%COMP%]{margin:0}img[_ngcontent-%COMP%]{height:200px}.info_footer[_ngcontent-%COMP%]{position:absolute!important;bottom:52px!important}.obj_fit[_ngcontent-%COMP%]{-o-object-fit:cover!important;object-fit:cover!important}.divider[_ngcontent-%COMP%]{--color:#e35252!important}.toolbar_footer[_ngcontent-%COMP%]{position:absolute;bottom:0;background:#f7f7f7}.comprar_text[_ngcontent-%COMP%]{text-transform:capitalize;font-weight:700;letter-spacing:0!important}.pricing_text_footer[_ngcontent-%COMP%]{background-color:#fff;border-radius:5px;height:35px}.precio_tachado[_ngcontent-%COMP%]{text-decoration:line-through;padding-right:.5rem}.porciento_tachado[_ngcontent-%COMP%]{text-decoration:line-through;font-size:14px}.info[_ngcontent-%COMP%]{margin:.5rem;border:1px solid #e35252;border-radius:15px}.btn_stock[_ngcontent-%COMP%]{display:inherit;padding-bottom:.2rem}.stock_home[_ngcontent-%COMP%]{font-size:11px;margin-top:.5rem;text-transform:capitalize}.stock_home_foot[_ngcontent-%COMP%]{font-size:12px;margin-bottom:.2rem;text-transform:capitalize}.chip_actual[_ngcontent-%COMP%]{font-size:25px}.label_wait[_ngcontent-%COMP%]{margin-top:.2rem}.label_wait[_ngcontent-%COMP%], .price[_ngcontent-%COMP%]{display:inline-block}.price[_ngcontent-%COMP%]:first-letter{padding-right:0!important;margin:0!important}#clockdiv[_ngcontent-%COMP%]{font-family:sans-serif;color:#4e4e4e;display:inline-block;font-weight:500;text-align:center;font-size:20px}#clockdiv[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-left:.2rem;margin-right:.2rem}#clockdiv[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], #clockdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{padding:2px;border-radius:3px;display:inline-block}#clockdiv[_ngcontent-%COMP%]   div[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{color:#4e4e4e}.smalltext[_ngcontent-%COMP%]{padding-top:5px;font-size:10px}"]}),t})()}];let K=(()=>{class t{}return t.\u0275mod=h.Vb({type:t}),t.\u0275inj=h.Ub({factory:function(i){return new(i||t)},imports:[[s.i.forChild(z)],s.i]}),t})();var Y=o("lPHp"),X=o.n(Y);function E(){return X.a}let N=(()=>{class t{}return t.\u0275mod=h.Vb({type:t}),t.\u0275inj=h.Ub({factory:function(i){return new(i||t)},imports:[[e.U,c.b,n.f,K,b.b.forRoot({player:E,useCache:!0})]]}),t})()}}]);